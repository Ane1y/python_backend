# Онлайн-консультации

## Задание
- Придумать бизнес сценарий для вашего веб приложения и описать его в PR
- Написать Endpoint’ы для бизнес сценариев и вынести логику работы в отдельные модули\функции
- Бизнес логика должна быть достаточно сложной, чтобы описать её в как минимум трех функциях\методах
- Разработать хотя бы по три модульных теста для каждой функции/метода
- Разработать три интеграционных теста
- Задокументировать, как автоматически выполнять тесты в readme
- Модульные
- Интеграционные

## Бизнес-сценарий
Система онлайн-консультаций с экспертами. Приложение представляет собой платформу, где люди могут получать экспертные консультации.
Пользователи могут задавать вопросы, прикреплять фотографии и получать советы

## Endpoints 
- Создание нового вопроса

    - URL: /questions/
    - Метод: POST
    - Описание: Создает новый вопрос и возвращает созданный вопрос с уникальным идентификатором.
    - Параметры запроса:
        - question (QuestionCreate): Данные для создания нового вопроса.
    - Параметры ответа:
        - QuestionDb: Созданный вопрос с уникальным идентификатором.

- Получение всех вопросов

    - URL: /questions/
    - Метод: GET
    - Описание: Получает список всех вопросов. Можно указать параметры skip (количество вопросов для пропуска) и limit (максимальное количество вопросов для возврата).
    - Параметры запроса:
        - skip (int, опционально): Количество вопросов для пропуска (по умолчанию 0).
        - limit (int, опционально): Максимальное количество вопросов для возврата (по умолчанию 10).
    - Параметры ответа:
        - Список объектов Question: Список последних вопросов.

- Получение ответа на вопрос

    - URL: /questions/{question_id}/answers/
    - Метод: GET
    - Описание: Получает ответы на конкретный вопрос по его уникальному идентификатору.
    - Параметры запроса:
        - question_id (int): Уникальный идентификатор вопроса.
    - Параметры ответа:
        - Список объектов Answer: Список ответов на вопрос.

- Добавление ответа на  вопроc

    - URL: /questions/{question_id}/answer/
    - Метод: POST
    - Описание: Добавляет ответ на конкретный вопрос по его уникальному идентификатору и возвращает обновленный вопрос с добавленным ответом.
    - Параметры запроса:
        - question_id (int): Уникальный идентификатор вопроса.
        - answer_data (AnswerCreate): Данные для создания ответа.
    - Параметры ответа:
        - QuestionDb: Обновленный вопрос с добавленным ответом.

## Тесты
Можно посмотреть результаты выполнения тестов в CI/CD 
### Модульные
Запустить локально командой:

`pytest app/tests/test_crud.py && pytest app/tests/test_questions.py`

### Интеграционные
Для запуска интеграционных тестов запустите приложение:

`uvicorn main:app --host 127.0.0.1 --port 8000`

а затем тесты

`pytest app/tests/test_integration.py`